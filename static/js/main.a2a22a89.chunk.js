(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{159:function(e,t,a){e.exports={inputStyle:"AddItemForm_inputStyle__2-SVy"}},175:function(e,t,a){e.exports=a(451)},180:function(e,t,a){},181:function(e,t,a){},36:function(e,t,a){e.exports={numberOfCom:"toDoList_numberOfCom__31_AO",inputStyle:"toDoList_inputStyle__1GxOe",task:"toDoList_task__1z39h",comment:"toDoList_comment__1ssMu"}},451:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),s=a.n(r),o=(a(180),a(15)),l=(a(181),a(490)),m=a(481),u=a(482),i=a(158),d=a(159),k=a.n(d),O=c.a.memo((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],s=a[1],d=Object(n.useState)(null),O=Object(o.a)(d,2),b=O[0],f=O[1],T=Object(n.useState)(!1),E=Object(o.a)(T,2),p=E[0],v=E[1],h=Object(n.useState)("#000"),S=Object(o.a)(h,2),j=S[0],C=S[1],I=function(){""!==r.trim()?(e.addItem(r,j),s("")):f("Title is required")},g=function(){v(!p)};return c.a.createElement("div",null,c.a.createElement("div",{className:k.a.inputStyle},e.background?c.a.createElement("div",{onClick:g,style:{backgroundColor:j,height:"30px",width:"30px",content:""}}):null,p?c.a.createElement(i.PhotoshopPicker,{onAccept:g,onCancel:g,onChangeComplete:function(e){C(e.hex)},color:j}):null,c.a.createElement(l.a,{style:{width:"350px"},variant:"outlined",error:!!b,value:r,onChange:function(e){s(e.currentTarget.value)},onKeyPress:function(e){f(null),13===e.charCode&&e.ctrlKey&&I()},label:e.placeholder,helperText:b}),c.a.createElement(m.a,{color:"primary",onClick:I},c.a.createElement(u.a,null))))})),b=a(484),f=a(483),T=a(36),E=a.n(T),p=c.a.memo((function(e){var t=Object(n.useCallback)((function(t){e.addTask(t)}),[e.addTask]);return c.a.createElement("div",null,c.a.createElement(O,{addItem:t,placeholder:"Type task here"}),c.a.createElement("div",{className:E.a.task},e.tasks.map((function(t){var a=e.comments[t.id];return c.a.createElement("div",{className:E.a.inputStyle,key:t.id},c.a.createElement("span",null,t.title),a?c.a.createElement("span",{className:E.a.numberOfCom},a.length):c.a.createElement("span",{className:E.a.numberOfCom},"0"),c.a.createElement(m.a,{onClick:function(){return e.removeTask(t.id)}},c.a.createElement(f.a,null)),c.a.createElement(b.a,{variant:t.id===e.selectedTaskId?"contained":"outlined",color:"primary",href:"#outlined-buttons",onClick:function(){e.showCommentsOfTask(t.id)}},"Show Comments"))}))))})),v=a(485),h=a(486),S=a(487),j=a(488),C=a(489),I=a(452),g=c.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],s=a[1],l=Object(n.useCallback)((function(t,a){null!==e.taskId&&e.addComment(e.taskId,t,a)}),[e.taskId,e.addComment]),m=Object(n.useCallback)((function(){s(!r)}),[r]);return c.a.createElement("div",null,e.comments?e.comments.map((function(e){return c.a.createElement("div",{style:{padding:"10px"},key:e.commentId},c.a.createElement("div",{className:E.a.comment},c.a.createElement("div",{onClick:m,style:{backgroundColor:e.background,height:"20px",width:"20px",content:""}}),c.a.createElement("div",null,e.text)))})):null,c.a.createElement(O,{addItem:l,placeholder:"Type comment here",background:"#000"}))})),y=a(104),x=a(50),w=a(28),A=a(491),D=function(e,t){switch(t.type){case"TODOLIST/STATE/REMOVE-TASK":var a=Object(w.a)({},e.comments);return delete a[t.id],Object(w.a)({},e,{selectedTaskId:e.selectedTaskId===t.id?null:e.selectedTaskId,comments:a,tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case"TODOLIST/STATE/ADD-TASK":var n=Object(A.a)();return Object(w.a)({},e,{comments:Object(w.a)({},e.comments,Object(x.a)({},n,[])),tasks:[].concat(Object(y.a)(e.tasks),[{id:n,title:t.title}])});case"TODOLIST/STATE/ADD-COMMENT":var c={commentId:Object(A.a)(),text:t.text,background:t.color},r=e.comments[t.taskId];return Object(w.a)({},e,{comments:Object(w.a)({},e.comments,Object(x.a)({},t.taskId,[].concat(Object(y.a)(r),[c])))});case"TODOLIST/STATE/SET-SELECTED-TASK":return Object(w.a)({},e,{selectedTaskId:t.taskId});default:return console.error(new Error("Action is not supported")),e}},_=function(e,t,a){return{type:"TODOLIST/STATE/ADD-COMMENT",taskId:e,color:a,text:t}},L=a(24),N=a.n(L),K=a(51),M={_keys:{tasks:"todolist-tasks",comments:"comments-tasks"},saveTasks:function(e){var t=this;return Object(K.a)(N.a.mark((function a(){return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:localStorage.setItem(t._keys.tasks,JSON.stringify(e));case 1:case"end":return a.stop()}}),a)})))()},saveComments:function(e){var t=this;return Object(K.a)(N.a.mark((function a(){return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:localStorage.setItem(t._keys.comments,JSON.stringify(e));case 1:case"end":return a.stop()}}),a)})))()},getComments:function(){var e=this;return Object(K.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=localStorage.getItem(e._keys.comments))){t.next=5;break}return t.abrupt("return",JSON.parse(a));case 5:return t.abrupt("return",{});case 6:case"end":return t.stop()}}),t)})))()},getTasks:function(){var e=this;return Object(K.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=localStorage.getItem(e._keys.tasks))){t.next=5;break}return t.abrupt("return",JSON.parse(a));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)})))()}},J={padding:"10px",width:"450px"};function P(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),m=l[0],u=l[1],i=Object(n.useState)({}),d=Object(o.a)(i,2),k=d[0],O=d[1];return Object(n.useEffect)((function(){Promise.all([M.getTasks(),M.getComments()]).then((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];u(a),O(n),r(!0)}))}),[]),a?c.a.createElement(W,{comments:k,tasks:m}):c.a.createElement("span",null,"Loading...")}function W(e){var t=Object(n.useReducer)(D,function(e,t){return{tasks:e,comments:t,selectedTaskId:null}}(e.tasks,e.comments)),a=Object(o.a)(t,2),r=a[0],s=a[1],l=r.comments,m=r.tasks,u=r.selectedTaskId,i=u?l[u]:[];Object(n.useEffect)((function(){M.saveTasks(r.tasks),M.saveComments(l)}),[m,l]);var d=Object(n.useCallback)((function(e){return s(function(e){return{type:"TODOLIST/STATE/REMOVE-TASK",id:e}}(e))}),[]),k=Object(n.useCallback)((function(e){return s(function(e){return{type:"TODOLIST/STATE/ADD-TASK",title:e}}(e))}),[]),O=Object(n.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000";return s(_(e,t,a))}),[]),b=Object(n.useCallback)((function(e){return s({type:"TODOLIST/STATE/SET-SELECTED-TASK",taskId:e})}),[]);return c.a.createElement("div",{className:"App"},c.a.createElement(v.a,{position:"static"},c.a.createElement(h.a,null,c.a.createElement(S.a,{variant:"h6"},"To do list"))),c.a.createElement("div",{className:"container"},c.a.createElement(j.a,{maxWidth:"lg"},c.a.createElement(C.a,{item:!0},c.a.createElement(I.a,{style:J},c.a.createElement("h3",null,"Tasks"),c.a.createElement(p,{comments:l,selectedTaskId:u,tasks:m,removeTask:d,addTask:k,showCommentsOfTask:b})))),c.a.createElement(j.a,{maxWidth:"lg"},c.a.createElement(C.a,{item:!0},c.a.createElement(I.a,{style:J},c.a.createElement("h3",null,"Comments for tasks"),r.selectedTaskId&&c.a.createElement("div",null,c.a.createElement("div",null,"Comments ",u),c.a.createElement(g,{taskId:u,comments:i,addComment:O})))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.a2a22a89.chunk.js.map